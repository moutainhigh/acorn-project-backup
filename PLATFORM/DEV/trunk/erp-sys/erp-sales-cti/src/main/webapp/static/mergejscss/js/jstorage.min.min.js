(function(){var M="0.4.3",aa=window.jQuery||window.$||(window.$={}),ae={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(a){return String(a).evalJSON()}||aa.parseJSON||aa.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||aa.toJSON};if(!ae.parse||!ae.stringify){throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page")}var X={__jstorage_meta:{CRC32:{}}},ah={jStorage:"{}"},G=null,V=0,ab=false,Z={},Q=false,F=0,O={},H=+new Date(),U,R={isXML:function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":false},encode:function(b){if(!this.isXML(b)){return false}try{return new XMLSerializer().serializeToString(b)}catch(c){try{return b.xml}catch(a){}}return false},decode:function(b){var c=("DOMParser" in window&&(new DOMParser()).parseFromString)||(window.ActiveXObject&&function(e){var d=new ActiveXObject("Microsoft.XMLDOM");d.async="false";d.loadXML(e);return d}),a;if(!c){return false}a=c.call("DOMParser" in window&&(new DOMParser())||window,b,"text/xml");return this.isXML(a)?a:false}};function S(){var g=false;if("localStorage" in window){try{window.localStorage.setItem("_tmptest","tmpval");g=true;window.localStorage.removeItem("_tmptest")}catch(f){}}if(g){try{if(window.localStorage){ah=window.localStorage;ab="localStorage";F=ah.jStorage_update}}catch(h){}}else{if("globalStorage" in window){try{if(window.globalStorage){ah=window.globalStorage[window.location.hostname];ab="globalStorage";F=ah.jStorage_update}}catch(a){}}else{G=document.createElement("link");if(G.addBehavior){G.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(G);try{G.load("jStorage")}catch(b){G.setAttribute("jStorage","{}");G.save("jStorage");G.load("jStorage")}var c="{}";try{c=G.getAttribute("jStorage")}catch(d){}try{F=G.getAttribute("jStorage_update")}catch(e){}ah.jStorage=c;ab="userDataBehavior"}else{G=null;return}}}Y();ai();I();K();if("addEventListener" in window){window.addEventListener("pageshow",function(i){if(i.persisted){T()}},false)}}function af(){var a="{}";if(ab=="userDataBehavior"){G.load("jStorage");try{a=G.getAttribute("jStorage")}catch(b){}try{F=G.getAttribute("jStorage_update")}catch(c){}ah.jStorage=a}Y();ai();K()}function I(){if(ab=="localStorage"||ab=="globalStorage"){if("addEventListener" in window){window.addEventListener("storage",T,false)}else{document.attachEvent("onstorage",T)}}else{if(ab=="userDataBehavior"){setInterval(T,1000)}}}function T(){var a;clearTimeout(Q);Q=setTimeout(function(){if(ab=="localStorage"||ab=="globalStorage"){a=ah.jStorage_update}else{if(ab=="userDataBehavior"){G.load("jStorage");try{a=G.getAttribute("jStorage_update")}catch(b){}}}if(a&&a!=F){F=a;ac()}},25)}function ac(){var e=ae.parse(ae.stringify(X.__jstorage_meta.CRC32)),a;af();a=ae.parse(ae.stringify(X.__jstorage_meta.CRC32));var c,d=[],b=[];for(c in e){if(e.hasOwnProperty(c)){if(!a[c]){b.push(c);continue}if(e[c]!=a[c]&&String(e[c]).substr(0,2)=="2."){d.push(c)}}}for(c in a){if(a.hasOwnProperty(c)){if(!e[c]){d.push(c)}}}L(d,"updated");L(b,"deleted")}function L(b,a){b=[].concat(b||[]);if(a=="flushed"){b=[];for(var c in Z){if(Z.hasOwnProperty(c)){b.push(c)}}a="deleted"}for(var d=0,g=b.length;d<g;d++){if(Z[b[d]]){for(var e=0,f=Z[b[d]].length;e<f;e++){Z[b[d]][e](b[d],a)}}if(Z["*"]){for(var e=0,f=Z["*"].length;e<f;e++){Z["*"][e](b[d],a)}}}}function W(){var a=(+new Date()).toString();if(ab=="localStorage"||ab=="globalStorage"){ah.jStorage_update=a}else{if(ab=="userDataBehavior"){G.setAttribute("jStorage_update",a);G.save("jStorage")}}T()}function Y(){if(ah.jStorage){try{X=ae.parse(String(ah.jStorage))}catch(a){ah.jStorage="{}"}}else{ah.jStorage="{}"}V=ah.jStorage?String(ah.jStorage).length:0;if(!X.__jstorage_meta){X.__jstorage_meta={}}if(!X.__jstorage_meta.CRC32){X.__jstorage_meta.CRC32={}}}function P(){aj();try{ah.jStorage=ae.stringify(X);if(G){G.setAttribute("jStorage",ah.jStorage);G.save("jStorage")}V=ah.jStorage?String(ah.jStorage).length:0}catch(a){}}function J(a){if(!a||(typeof a!="string"&&typeof a!="number")){throw new TypeError("Key name must be string or numeric")}if(a=="__jstorage_meta"){throw new TypeError("Reserved key name")}return true}function ai(){var a,f,c,e,d=Infinity,b=false,g=[];clearTimeout(U);if(!X.__jstorage_meta||typeof X.__jstorage_meta.TTL!="object"){return}a=+new Date();c=X.__jstorage_meta.TTL;e=X.__jstorage_meta.CRC32;for(f in c){if(c.hasOwnProperty(f)){if(c[f]<=a){delete c[f];delete e[f];delete X[f];b=true;g.push(f)}else{if(c[f]<d){d=c[f]}}}}if(d!=Infinity){U=setTimeout(ai,d-a)}if(b){P();W();L(g,"deleted")}}function K(){var a,c;if(!X.__jstorage_meta.PubSub){return}var d,b=H;for(a=c=X.__jstorage_meta.PubSub.length-1;a>=0;a--){d=X.__jstorage_meta.PubSub[a];if(d[0]>H){b=d[0];ag(d[1],d[2])}}H=b}function ag(b,a){if(O[b]){for(var c=0,d=O[b].length;c<d;c++){O[b][c](b,ae.parse(ae.stringify(a)))}}}function aj(){if(!X.__jstorage_meta.PubSub){return}var a=+new Date()-2000;for(var b=0,c=X.__jstorage_meta.PubSub.length;b<c;b++){if(X.__jstorage_meta.PubSub[b][0]<=a){X.__jstorage_meta.PubSub.splice(b,X.__jstorage_meta.PubSub.length-b);break}}if(!X.__jstorage_meta.PubSub.length){delete X.__jstorage_meta.PubSub}}function ad(b,a){if(!X.__jstorage_meta){X.__jstorage_meta={}}if(!X.__jstorage_meta.PubSub){X.__jstorage_meta.PubSub=[]}X.__jstorage_meta.PubSub.unshift([+new Date,b,a]);P();W()}function N(a,e){var f=a.length,b=e^f,c=0,d;while(f>=4){d=((a.charCodeAt(c)&255))|((a.charCodeAt(++c)&255)<<8)|((a.charCodeAt(++c)&255)<<16)|((a.charCodeAt(++c)&255)<<24);d=(((d&65535)*1540483477)+((((d>>>16)*1540483477)&65535)<<16));d^=d>>>24;d=(((d&65535)*1540483477)+((((d>>>16)*1540483477)&65535)<<16));b=(((b&65535)*1540483477)+((((b>>>16)*1540483477)&65535)<<16))^d;f-=4;++c}switch(f){case 3:b^=(a.charCodeAt(c+2)&255)<<16;case 2:b^=(a.charCodeAt(c+1)&255)<<8;case 1:b^=(a.charCodeAt(c)&255);b=(((b&65535)*1540483477)+((((b>>>16)*1540483477)&65535)<<16))}b^=b>>>13;b=(((b&65535)*1540483477)+((((b>>>16)*1540483477)&65535)<<16));b^=b>>>15;return b>>>0}aa.jStorage={version:M,set:function(b,a,c){J(b);c=c||{};if(typeof a=="undefined"){this.deleteKey(b);return a}if(R.isXML(a)){a={_is_xml:true,xml:R.encode(a)}}else{if(typeof a=="function"){return undefined}else{if(a&&typeof a=="object"){a=ae.parse(ae.stringify(a))}}}X[b]=a;X.__jstorage_meta.CRC32[b]="2."+N(ae.stringify(a),2538058380);this.setTTL(b,c.TTL||0);L(b,"updated");return a},get:function(b,a){J(b);if(b in X){if(X[b]&&typeof X[b]=="object"&&X[b]._is_xml){return R.decode(X[b].xml)}else{return X[b]}}return typeof(a)=="undefined"?null:a},deleteKey:function(a){J(a);if(a in X){delete X[a];if(typeof X.__jstorage_meta.TTL=="object"&&a in X.__jstorage_meta.TTL){delete X.__jstorage_meta.TTL[a]}delete X.__jstorage_meta.CRC32[a];P();W();L(a,"deleted");return true}return false},setTTL:function(b,c){var a=+new Date();J(b);c=Number(c)||0;if(b in X){if(!X.__jstorage_meta.TTL){X.__jstorage_meta.TTL={}}if(c>0){X.__jstorage_meta.TTL[b]=a+c}else{delete X.__jstorage_meta.TTL[b]}P();ai();W();return true}return false},getTTL:function(b){var a=+new Date(),c;J(b);if(b in X&&X.__jstorage_meta.TTL&&X.__jstorage_meta.TTL[b]){c=X.__jstorage_meta.TTL[b]-a;return c||0}return 0},flush:function(){X={__jstorage_meta:{CRC32:{}}};P();W();L(null,"flushed");return true},storageObj:function(){function a(){}a.prototype=X;return new a()},index:function(){var b=[],a;for(a in X){if(X.hasOwnProperty(a)&&a!="__jstorage_meta"){b.push(a)}}return b},storageSize:function(){return V},currentBackend:function(){return ab},storageAvailable:function(){return !!ab},listenKeyChange:function(b,a){J(b);if(!Z[b]){Z[b]=[]}Z[b].push(a)},stopListening:function(b,a){J(b);if(!Z[b]){return}if(!a){delete Z[b];return}for(var c=Z[b].length-1;c>=0;c--){if(Z[b][c]==a){Z[b].splice(c,1)}}},subscribe:function(b,a){b=(b||"").toString();if(!b){throw new TypeError("Channel not defined")}if(!O[b]){O[b]=[]}O[b].push(a)},publish:function(b,a){b=(b||"").toString();if(!b){throw new TypeError("Channel not defined")}ad(b,a)},reInit:function(){af()}};S()})();