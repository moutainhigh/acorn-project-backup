var notReadyState=0;var mediaType="voice";var ctiIsLogIn=0;var isDial=0;function checkSoftPhoneApplet(){if(typeof(SoftPhone)!="undefined"){return true}return false}function callAnswer(){if(!checkSoftPhoneApplet()){return false}var a=SoftPhone.answer(1,null);if(a==1){return true}return false}function login(){if(!checkSoftPhoneApplet()){return false}var a=SoftPhone.login(mediaType);if(a==1){return true}return false}function agentLogout(){if(!checkSoftPhoneApplet()){return false}try{var a=SoftPhone.logout(mediaType);if(a==1){return true}}catch(b){}return false}function ready(){if(!checkSoftPhoneApplet()){return false}if(!getDnStatus(null)){return false}var a=SoftPhone.ready(mediaType);if(a==1){if(phone){phone.changeStatus(0)}return true}return false}function release(){if(!checkSoftPhoneApplet()){return false}var a=SoftPhone.release(1,"{params:{Reasons:{agentHangUp:'1'}}}");if(a==1){return true}return false}function releaseLine2(){if(!checkSoftPhoneApplet()){return false}var a=SoftPhone.release(2,null);if(a==1){return true}return false}function singleStepTransfer(b){if(!checkSoftPhoneApplet()){return false}console.info("单步转接....");var a=SoftPhone.singleStepTransfer(1,b,null);if(a==1){return true}return false}function initiateTransfer(b){if(!checkSoftPhoneApplet()){return false}var c="{'params' : {'UserData':{'ani' : "+phone.ani+",'customerId' : "+phone.customerId+",'customerType':"+phone.customerType+",'leadId':"+phone.leadId+"}}}";console.info("params:"+c);var a=SoftPhone.initiateTransfer(1,b,c);if(a==1){return true}return false}function completeTransfer(){if(!checkSoftPhoneApplet()){return false}SoftPhone.completeTransfer(null)}function hold(){if(!checkSoftPhoneApplet()){return false}var a=SoftPhone.hold(1,null);if(a==1){return true}return false}function retrieve(){if(!checkSoftPhoneApplet()){return false}var a=SoftPhone.retrieve(1,null);if(a==1){return true}return false}function initiateConference(a){if(!checkSoftPhoneApplet()){return false}SoftPhone.initiateConference(1,a,"{params:{UserData:{command:'1'}}}")}function completeConference(){if(!checkSoftPhoneApplet()){return false}SoftPhone.completeConference(null)}function notReady(a){console.info("reasonCode:"+a);return notReady(a,0)}function notReady(c,b){console.info("notReady----1:"+c);if(c==null){c="1203"}console.info("notReady----2:"+c);if(!checkSoftPhoneApplet()){return false}var a=SoftPhone.notReady(mediaType,c,b);if(a==1){if(phone){phone.changeStatus(2)}return true}return false}function transferQueue(e,c,b,d){if(!checkSoftPhoneApplet()){return false}var a=SoftPhone.transferQueue(e,c,b,transferPerson);if(a==1){return true}return false}function addUserData(d,b,c){if(!checkSoftPhoneApplet()){return false}var a=SoftPhone.addUserData(d,b,c);if(a==1){return true}return false}function dial(c,b){if(!checkSoftPhoneApplet()){return false}isDial=1;var a=SoftPhone.dial(c,b);if(a==1){return true}return false}function sendDtmf(a){if(!checkSoftPhoneApplet()){return false}SoftPhone.sendDtmf(1,a)}function registerSoftPhone(d,h,c,g,b,f,e,a){if(!checkSoftPhoneApplet()){return false}SoftPhone.register(d,h,c,g,b,f,e,a)}function getDnStatus(b){if(!checkSoftPhoneApplet()){return false}var a=SoftPhone.getDnStatus(b);console.info("getDnStatus:"+a);return a==0};